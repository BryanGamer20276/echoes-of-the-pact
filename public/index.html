<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Echoes of the Pact - Acceso</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body class="mode-choice" data-form="login">
  <div class="magic-bg">
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
    <div class="stars"></div>
  </div>

  <main class="auth-shell">
    <header class="auth-header">
      <h1>Echoes of the Pact</h1>
      <p class="subtitle">Un portal entre pactos, ecos y secretos.</p>
    </header>

    <!-- WRAPPER QUE CONTIENE LOS TRES PANELES -->
    <div class="panel-wrapper">
      <!-- PANTALLA ELECCIÓN LOGIN/REGISTER -->
      <section class="panel choice-panel">
        <p class="choice-text">
          Elige cómo entrar al pacto.
        </p>
        <div class="choice-buttons">
          <button id="btn-go-login" class="btn primary">
            Iniciar sesión
          </button>
          <button id="btn-go-register" class="btn ghost">
            Registrarme
          </button>
        </div>
      </section>

      <!-- PANTALLA FORMULARIOS -->
      <section class="panel form-panel">
        <div class="form-header">
          <button id="btn-back" class="icon-btn" title="Volver">
            ←
          </button>
          <div class="form-titles">
            <h2 id="form-title">Iniciar sesión</h2>
            <p id="form-subtitle">
              Ingresa tus credenciales para continuar el pacto.
            </p>
          </div>
        </div>

        <!-- FORM LOGIN -->
        <form id="login-form" class="auth-form">
          <label class="field">
            <span>Usuario</span>
            <input
              type="text"
              id="login-username"
              autocomplete="username"
              required
            />
          </label>

          <label class="field">
            <span>Contraseña</span>
            <input
              type="password"
              id="login-password"
              autocomplete="current-password"
              required
            />
          </label>

          <button type="submit" class="btn primary block">
            Entrar al pacto
          </button>

          <p class="switch-text">
            ¿No tienes cuenta?
            <button type="button" class="link-btn" id="switch-to-register">
              Crear una nueva
            </button>
          </p>

          <p id="login-message" class="message"></p>
        </form>

        <!-- FORM REGISTER -->
        <form id="register-form" class="auth-form hidden">
          <label class="field">
            <span>Usuario</span>
            <input
              type="text"
              id="register-username"
              autocomplete="off"
              required
            />
            <small>Mínimo 4 caracteres.</small>
          </label>

          <label class="field">
            <span>Contraseña</span>
            <input
              type="password"
              id="register-password"
              autocomplete="new-password"
              required
            />
            <small>Mínimo 7 caracteres.</small>
          </label>

          <button type="submit" class="btn primary block">
            Sellar nuevo pacto
          </button>

          <p class="switch-text">
            ¿Ya tienes cuenta?
            <button type="button" class="link-btn" id="switch-to-login">
              Inicia sesión
            </button>
          </p>

          <p id="register-message" class="message"></p>
        </form>
      </section>

      <!-- PANTALLA SELECCIÓN DE AVATAR -->
      <section class="panel avatar-panel">
        <div class="avatar-header">
          <h2>Elige tu eco</h2>
          <p>
            Tu pacto necesita un rostro. Elige la forma con la que los ecos te
            reconocerán.
          </p>
        </div>

        <div class="avatar-grid">
          <!-- NOVA -->
          <button class="avatar-card" data-avatar="nova">
            <div class="avatar-img-wrapper">
              <img
                src="/auth/avatars/nova.png"
                alt="Nova, el último hechicero"
              />
            </div>
            <div class="avatar-info">
              <h3>Nova</h3>
              <p>El último hechicero, guardián de los ecos arcanos.</p>
            </div>
          </button>

          <!-- RIN -->
          <button class="avatar-card" data-avatar="rin">
            <div class="avatar-img-wrapper">
              <img
                src="/auth/avatars/rin.png"
                alt="Rin, el asesino más despiadado"
              />
            </div>
            <div class="avatar-info">
              <h3>Rin</h3>
              <p>El asesino más despiadado de la historia, invisible entre sombras.</p>
            </div>
          </button>

          <!-- INDRA -->
          <button class="avatar-card" data-avatar="indra">
            <div class="avatar-img-wrapper">
              <img
                src="/auth/avatars/indra.png"
                alt="Indra, el berserker más temido"
              />
            </div>
            <div class="avatar-info">
              <h3>Indra</h3>
              <p>El berserker más temido, una tormenta de acero y furia.</p>
            </div>
          </button>

          <!-- HIRO -->
          <button class="avatar-card" data-avatar="hiro">
            <div class="avatar-img-wrapper">
              <img
                src="/auth/avatars/hiro.png"
                alt="Hiro, el caballero noble"
              />
            </div>
            <div class="avatar-info">
              <h3>Hiro</h3>
              <p>El caballero mas noble, escudo de los débiles y voz del honor.</p>
            </div>
          </button>
        </div>
      </section>
    </div>
  </main>

  <script src="/js/auth.js"></script>
</body>
</html>
